{% extends "base.html" %}
{% load static %}

{% block page_header %}
<div class="container header-container">
    <div class="row">
        <div class="col"></div>
    </div>
</div>
{% endblock %}

{% block content %}
<!------------------------------------------------------ From norli.no home page -------------------------------------------------------------------------------------->
    <div class="container-fluid">
        <div class="row-full-width-inner" data-element="inner" style="box-sizing: border-box; margin-left: auto; margin-right: auto; max-width: 93.25rem; width: 100%;">
            <div class="pagebuilder-column-group" style="display: flex;" data-content-type="column-group"
                data-grid-size="12" data-element="main">
                <div class="pagebuilder-column" data-content-type="column" data-appearance="full-height"
                    data-background-images="{}" data-element="main"
                    style="justify-content: flex-start; display: flex; flex-direction: column; background-position: left top; background-size: cover; background-repeat: no-repeat; background-attachment: scroll; border-style: none; border-width: 1px; border-radius: 0px; width: 66.6667%; margin: 0px; padding: 0px 0px 10px; align-self: stretch;">
                    <figure class="side-padding" data-content-type="image" data-appearance="full-width" data-element="main"
                        style="margin-left: 0px; margin-top: 0px; margin-right: 0px; padding: 0px 10px 16px 20px; border-style: none;">
                        <a href="#" target=""
                            data-link-type="default" title="" data-element="link">
                            <img class="pagebuilder-mobile-hidden"
                                src="{{ MEDIA_URL }}homepage/pexels.comphotolow-light-photography-of-books-1301585-min.jpg" alt="farsdag boktips"
                                title="" data-element="desktop_image"
                                style="border-style: none; border-width: 1px; border-radius: 0px; max-width: 100%; height: auto;">
                            <img class="pagebuilder-mobile-only d-none"
                                src="{{ MEDIA_URL }}homepage/pexels.comphotolow-light-photography-of-books-1301585-min.jpg" alt="farsdag boktips"
                                title="" data-element="mobile_image"
                                style="border-style: none; border-width: 1px; border-radius: 0px; max-width: 100%; height: auto;"></a>
                    </figure>
                </div>
                <div class="pagebuilder-column" data-content-type="column" data-appearance="full-height"
                    data-background-images="{}" data-element="main"
                    style="justify-content: flex-start; display: flex; flex-direction: column; background-position: left top; background-size: cover; background-repeat: no-repeat; background-attachment: scroll; border-style: none; border-width: 1px; border-radius: 0px; width: 33.3333%; margin: 0px; padding: 0px; align-self: stretch;">
                    <figure class="side-padding" data-content-type="image" data-appearance="full-width" data-element="main"
                        style="margin: 0px; padding: 0px 20px 16px 10px; border-style: none;">
                        <a href="#" target="" data-link-type="default" title=""
                            data-element="link"><img class="pagebuilder-mobile-hidden"
                                src="{{ MEDIA_URL }}homepage/pexels.comphotoclose-up-photo-of-paintbrush-1666756-min.jpg"
                                alt="" title="" data-element="desktop_image"
                                style="border-style: none; border-width: 1px; border-radius: 0px; max-width: 100%; height: auto;">
                            <img class="pagebuilder-mobile-only d-none"
                                src="{{ MEDIA_URL }}homepage/pexels.comphotoclose-up-photo-of-paintbrush-1666756-min.jpg"
                                alt="" title="" data-element="mobile_image"
                                style="border-style: none; border-width: 1px; border-radius: 0px; max-width: 100%; height: auto;">
                        </a>
                        <a href="#" target="" data-link-type="default" title=""
                            data-element="link"><img class="pagebuilder-mobile-hidden"
                                src="{{ MEDIA_URL }}homepage/pexels.comphotoclose-up-photo-of-monopoly-board-game-1240581-min.jpg"
                                alt="" title="" data-element="desktop_image"
                                style="border-style: none; border-width: 1px; border-radius: 0px; max-width: 100%; height: auto;">
                            <img class="pagebuilder-mobile-only d-none"
                                src="{{ MEDIA_URL }}homepage/pexels.comphotoclose-up-photo-of-monopoly-board-game-1240581-min.jpg"
                                alt="" title="" data-element="mobile_image"
                                style="border-style: none; border-width: 1px; border-radius: 0px; max-width: 100%; height: auto;">
                        </a>
                    </figure>
                </div>
            </div>
        </div>
    </div>
<!---------------------------------------------------------------------------------------------------------------------------------->    

<div class="row product-row">
    <div class="product-container col-lg-10 col-12 offset-lg-1">
        <div class="row mt-1 mb-2"></div>
        <div class="row mt-1 mb-2">
        </div>
        <div class="row">
            {% for product in products %}
            <div class="col-sm-6 custom-width col-md-6 col-lg-4 col-xl-3 mx-auto product-card">
                <div class="card h-100 border-0">
                    {% if product.img_paths %}
                    <a href="{% url 'product_detail' product.id %}" class="align-center">
                        <img class="card-img-top product-img" src="{{ product.img_paths.url }}"
                            alt="{{ product.name }}">
                    </a>
                    {% else %}
                    <a href="{% url 'product_detail' product.id %}" class="align-center">
                        <img class="card-img-top img-fluid" src="{{ MEDIA_URL }}noimage.png"
                            alt="{{ product.name }}">
                    </a>
                    {% endif %}
                    <div class="card-body pb-0 mx-auto-custom">
                        <p class="mb-0">{{ product.name }}</p>
                    </div>
                    <div class="card-footer bg-white pt-0 border-0 text-left mx-auto-custom">
                        <div class="row">
                            <div class="col">
                                <p class="lead mb-0 text-left font-weight-bold">${{ product.price }}</p>
                                {% if product.category %}
                                <p class="small mt-1 mb-0">
                                    <a href="{% url 'products' %}?category={{ product.category.name }}"
                                        class="text-muted">
                                        <i class="fas fa-book"></i> {{ product.category.friendly_name }}
                                    </a>
                                </p>
                                {% endif %}
                                {% if product.rating %}
                                <small class="text-muted"><i class="fas fa-star mr-1"></i>{{ product.rating }} /
                                    5</small>
                                {% else %}
                                <small class="text-muted">No Rating</small>
                                {% endif %}
                                {% if request.user.is_superuser %}
                                    <small class="ml-3">
                                        <a href="{% url 'edit_product' product.id %}">Edit</a> |
                                        <a class="text-danger" href="{% url 'delete_product' product.id %}">Delete</a>
                                    </small>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Credit to Boutique Ado for applying <hr> when divisible by-->
            {% if forloop.counter|divisibleby:1 %}
            <div class="col-12 d-sm-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:2 %}
            <div class="col-12 d-none d-sm-block d-md-block d-lg-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:3 %}
            <div class="col-12 d-none d-lg-block d-xl-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:4 %}
            <div class="col-12 d-none d-xl-block mb-5">
                <hr>
            </div>
            {% endif %}
            {% endfor %}
            {% for product in games %}
            <div class="col-sm-6 custom-width col-md-6 col-lg-4 col-xl-3 mx-auto product-card">
                <div class="card h-100 border-0">
                    {% if product.img_paths %}
                    <a href="{% url 'product_detail' product.id %}" class="align-center">
                        <img class="card-img-top product-img" src="{{ product.img_paths.url }}"
                            alt="{{ product.name }}">
                    </a>
                    {% else %}
                    <a href="{% url 'product_detail' product.id %}" class="align-center">
                        <img class="card-img-top img-fluid" src="{{ MEDIA_URL }}noimage.png"
                            alt="{{ product.name }}">
                    </a>
                    {% endif %}
                    <div class="card-body pb-0 mx-auto-custom">
                        <p class="mb-0">{{ product.name }}</p>
                    </div>
                    <div class="card-footer bg-white pt-0 border-0 text-left mx-auto-custom">
                        <div class="row">
                            <div class="col">
                                <p class="lead mb-0 text-left font-weight-bold">${{ product.price }}</p>
                                {% if product.category %}
                                <p class="small mt-1 mb-0">
                                    <a href="{% url 'products' %}?category={{ product.category.name }}"
                                        class="text-muted">
                                        <i class="fas fa-book"></i> {{ product.category.friendly_name }}
                                    </a>
                                </p>
                                {% endif %}
                                {% if product.rating %}
                                <small class="text-muted"><i class="fas fa-star mr-1"></i>{{ product.rating }} /
                                    5</small>
                                {% else %}
                                <small class="text-muted">No Rating</small>
                                {% endif %}
                                {% if request.user.is_superuser %}
                                    <small class="ml-3">
                                        <a href="{% url 'edit_product' product.id %}">Edit</a> |
                                        <a class="text-danger" href="{% url 'delete_product' product.id %}">Delete</a>
                                    </small>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Credit to Boutique Ado for applying <hr> when divisible by-->
            {% if forloop.counter|divisibleby:1 %}
            <div class="col-12 d-sm-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:2 %}
            <div class="col-12 d-none d-sm-block d-md-block d-lg-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:3 %}
            <div class="col-12 d-none d-lg-block d-xl-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:4 %}
            <div class="col-12 d-none d-xl-block mb-5">
                <hr>
            </div>
            {% endif %}
            {% endfor %}
            {% for product in arts_and_crafts %}
            <div class="col-sm-6 custom-width col-md-6 col-lg-4 col-xl-3 mx-auto product-card">
                <div class="card h-100 border-0">
                    {% if product.img_paths %}
                    <a href="{% url 'product_detail' product.id %}" class="align-center">
                        <img class="card-img-top product-img" src="{{ product.img_paths.url }}"
                            alt="{{ product.name }}">
                    </a>
                    {% else %}
                    <a href="{% url 'product_detail' product.id %}" class="align-center">
                        <img class="card-img-top img-fluid" src="{{ MEDIA_URL }}noimage.png"
                            alt="{{ product.name }}">
                    </a>
                    {% endif %}
                    <div class="card-body pb-0 mx-auto-custom">
                        <p class="mb-0">{{ product.name }}</p>
                    </div>
                    <div class="card-footer bg-white pt-0 border-0 text-left mx-auto-custom">
                        <div class="row">
                            <div class="col">
                                <p class="lead mb-0 text-left font-weight-bold">${{ product.price }}</p>
                                {% if product.category %}
                                <p class="small mt-1 mb-0">
                                    <a href="{% url 'products' %}?category={{ product.category.name }}"
                                        class="text-muted">
                                        <i class="fas fa-book"></i> {{ product.category.friendly_name }}
                                    </a>
                                </p>
                                {% endif %}
                                {% if product.rating %}
                                <small class="text-muted"><i class="fas fa-star mr-1"></i>{{ product.rating }} /
                                    5</small>
                                {% else %}
                                <small class="text-muted">No Rating</small>
                                {% endif %}
                                {% if request.user.is_superuser %}
                                    <small class="ml-3">
                                        <a href="{% url 'edit_product' product.id %}">Edit</a> |
                                        <a class="text-danger" href="{% url 'delete_product' product.id %}">Delete</a>
                                    </small>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Credit to Boutique Ado for applying <hr> when divisible by-->
            {% if forloop.counter|divisibleby:1 %}
            <div class="col-12 d-sm-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:2 %}
            <div class="col-12 d-none d-sm-block d-md-block d-lg-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:3 %}
            <div class="col-12 d-none d-lg-block d-xl-none mb-5">
                <hr>
            </div>
            {% endif %}
            {% if forloop.counter|divisibleby:4 %}
            <div class="col-12 d-none d-xl-block mb-5">
                <hr>
            </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}